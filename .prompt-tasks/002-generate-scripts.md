# 任务：生成脚本集合

## 目标
为指定的技术栈/项目创建自动化脚本集合，包括安装、配置、部署、维护、监控等各类操作脚本，帮助用户实现运维自动化，提高工作效率，减少人为错误，确保操作的一致性和可重复性。

## 任务执行要求

### 1. 目录结构
```
{project}/scripts/
├── README.md                     # 脚本总览和使用说明
├── install/                      # 安装脚本
│   ├── install-{component}.sh
│   └── README.md
├── configure/                    # 配置脚本
│   ├── configure-{component}.sh
│   └── README.md
├── deploy/                       # 部署脚本
│   ├── deploy-{environment}.sh
│   └── README.md
├── maintain/                     # 维护脚本
│   ├── backup.sh
│   ├── cleanup.sh
│   ├── health-check.sh
│   └── README.md
├── monitor/                      # 监控脚本
│   ├── system-monitor.sh
│   └── README.md
└── utils/                        # 工具脚本
    ├── common-functions.sh
    └── README.md
```

### 2. README.md 必须包含的内容结构

#### 2.1 脚本集合概述
- **脚本分类**：按功能和使用场景对脚本进行分类
- **兼容性说明**：支持的操作系统和版本要求
- **依赖关系**：脚本运行所需的依赖和前置条件
- **使用原则**：脚本使用的基本原则和注意事项

#### 2.2 脚本功能矩阵
创建脚本功能索引表格，包含：
- 脚本名称
- 功能描述
- 支持平台（Linux/Windows/macOS）
- 执行权限要求（普通用户/管理员）
- 依赖条件
- 使用频率（日常/周期/应急）
- 风险等级（低/中/高）

#### 2.3 关键脚本场景
- **一键安装**：快速安装和配置完整环境
- **环境初始化**：新环境的快速搭建和配置
- **批量运维**：多节点的批量操作和管理
- **故障恢复**：自动化的故障检测和恢复
- **定期维护**：定时执行的维护和清理任务

### 3. 脚本类别标准规范

#### 3.1 安装脚本（install/）
- **系统环境检查**：操作系统、权限、磁盘空间、网络连接检查
- **依赖安装**：自动安装必要的依赖包和工具
- **软件包下载**：多源下载策略，文件完整性验证
- **软件安装**：解压、复制、权限设置、服务注册
- **配置生成**：基础配置文件生成和定制
- **安装验证**：功能测试和配置正确性验证

#### 3.2 配置脚本（configure/）
- **配置备份**：原始配置文件备份和版本管理
- **配置生成**：基于模板的配置生成和参数替换
- **配置应用**：配置部署、服务重启、生效验证
- **性能优化**：根据硬件资源自动调优
- **安全配置**：用户权限、网络安全、数据加密设置
- **网络配置**：网络接口、DNS、防火墙规则设置

#### 3.3 部署脚本（deploy/）
- **环境准备**：部署环境检查、资源确认、权限验证
- **代码部署**：代码包下载、文件复制、配置更新
- **数据迁移**：数据库结构更新、数据迁移和转换
- **服务管理**：服务启动停止、状态监控、健康检查
- **部署验证**：功能测试、性能验证、监控确认

#### 3.4 维护脚本（maintain/）
- **备份管理**：系统备份、备份轮转、异地同步
- **清理维护**：日志清理、临时文件清理、磁盘空间回收
- **健康检查**：服务状态、资源使用、网络连通性检查
- **系统更新**：补丁更新、软件版本更新、安全修复
- **安全扫描**：漏洞扫描、权限审计、合规性检查

### 4. 质量要求

#### 4.1 标准化要求
- **多平台支持**：支持主流操作系统（Linux、Windows、macOS）
- **错误处理**：完善的错误处理和异常捕获机制
- **幂等性**：脚本可以重复执行而不产生副作用
- **文档完善**：详细的注释和使用文档

#### 4.2 安全性要求
- **权限控制**：最小权限原则和权限验证
- **输入验证**：严格的输入参数验证和过滤
- **敏感信息保护**：密码和密钥的安全处理
- **审计日志**：操作审计和安全日志记录

### 5. 执行步骤

1. **需求分析**：分析目标技术栈的脚本需求和使用场景
2. **功能设计**：设计脚本的功能模块和执行流程
3. **脚本开发**：按规范开发各类脚本和工具函数
4. **测试验证**：在不同环境进行全面的测试验证
5. **文档编写**：编写详细的使用文档和最佳实践
6. **发布部署**：打包发布和持续维护更新

### 6. 输出验证

完成后的脚本集合应能够：
- 提供完整的自动化运维能力
- 支持一键安装和环境搭建
- 实现标准化的配置和部署流程
- 提供可靠的备份和恢复机制
- 提升运维效率和操作一致性
- 减少人为错误和运维风险

## 适用范围

此任务模板适用于需要自动化脚本支持的各种技术和场景，包括：
- 系统软件的安装和配置脚本
- 应用服务的部署和维护脚本
- 数据库的备份和恢复脚本
- 容器化环境的管理脚本
- 云基础设施的自动化脚本
- 监控系统的配置和维护脚本
